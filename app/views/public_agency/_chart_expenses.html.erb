<script type="text/javascript">
//The expenses of public agency
var data = {
            '2014': {
                'Janeiro': '75.50',
                'Fevereiro': '56.30'
            },
            '2013': {
                'Janeiro': '75.50',
                'Fevereiro': '56.30' 
            },
            '2015': {
                'Janeiro': '75.50',
                'Fevereiro': '56.30' 
            }
        };
/** Method which process the data to draw the chart
* @params data The expenses of public agency (Object)
* @return points The expense processed for chart(Array)
*/
function process_data(data){
    //Year of expenses
    var year;
    //The expense processed for chart
    var points = [];
    //Counter of year
    var yearCount = 0;
    console.info("Processing data to draw chart");
    // Loop which create the points of each year
    console.debug(data);
    for (year in data) {
        console.debug(year);
        //Check if data has year
        if (data.hasOwnProperty(year)) {
            //Pointer for each year
            var yearSquare = {
                id: 'id_' + yearCount,
                name: year,
                color: Highcharts.getOptions().colors[yearCount],
            };
            //The Value of a determined year
            var yearValue = 0;
            create_point_for_months(data[year], yearValue, yearSquare, points)
            yearSquare.value = Math.round(yearValue)
            points.push(yearSquare);
            yearCount = yearCount + 1;
        }
        else{
            console.warn('data not have year');
        }
    }
    return points
}

/** Method which create points of months for a determined year
* @params data[year] The data for a determined year(Object)
* @params value The value of expenses for a determined year(Integer)
* @params square The point of determined year(Object)
* @params The expense processed for chart(Array)
*/
function create_point_for_months(data[year], value, square, points) {
    //Month of expense
    var month;
    //Counter of month
    var monthCount = 0;
    console.info("Creating the month points for each year");
    //Loop which create the points of months
    for(month in data[year]) {
        //Check if data has month
        if(data[year].hasOwnProperty(month)) {
            //Pointer for each month
            var monthSuare = {
                id: square.id + '_' + monthCount,
                name: month,
                parent: square.id,
                value: Math.round(+data[year][month])
            };
            value += monthSuare.value;
            points.push(monthSuare);
            monthCount = monthCount + 1
        }
        else{
            console.warn('data not have month');
        }
    }
}